# 1장 자료 구조가 중요한 까닭

코드를 작성할 때 가장 중요한 요소는 동작하게 만드는것이다.
그러나, 조금 더 심화되면 효율적으로 동작하게 만드는것이 중요해진다.

자료 구조는 동작의 효율성 측면에서 중요한 요소이다.
각각의 자료구조의 연산에서의 효율성을 잘 파악하여 적절한 위치에 적절한 자료구조를 사용하면 프로그램의 동작 효율성이 훨씬 좋아질 수 있다.

## 1. 자료 구조 연산
자료구조의 연산은 크게 4가지로 나눌 수 있다.
- 읽기
- 검색
- 삽입
- 삭제

그리고 우리가 이전에 말했던 속도의 효율성은 이 각각의 연산이 얼마나 많은 단계로(속도X) 동작하는지 파악하는것이 중요하다.
> 속도는 컴퓨터의 스펙이나 여러 환경에 따라 달라질 수 있기 때문에 정확한 측정 도구가 될 수 없다. 그러므로, 한 연산을 처리하는데 소요된 단계가 동작의 효율성을 평가하는 중요한 지표로 사용된다. 그리고 이 단계를 파악하는것을 시간 복잡도 측정이라고 부른다.

## 2. 배열
배열은 우리가 알고 있듯이 첫번째 메모리부터 순서대로 데이터들이 들어가 있는 형태이다.

이제 이 배열에서 각각의 연산이 어느정도의 단계를 거치는지 확인해보자.

### 컴퓨터의 배열 할당 특징
1. 컴퓨터는 배열을 할당할 때 배열의 첫번째 메모리 주소를 기억한다.
2. 컴퓨터는 배열을 만들 때 항상 배열의 크기를 기록한다.
3. 특정 인덱스를 갖는 배열 요소의 주소 = 배열의 첫번째 메모리 주소 + 인덱스


### 2-1. 읽기
컴퓨터의 배열 할당 특징 1번과 3번에 따라 컴퓨터는 특정 인덱스를 갖는 배열 요소의 메모리주소를 알 수 있다.
그러므로, 컴퓨터는 한번에 배열 요소에 접근할 수 있다.
연산에 사용된 단계수 = 1

### 2-2. 검색
검색은 읽기와 반대로 특정 값을 통해 배열의 인덱스를 탐색하는 연산이다.
컴퓨터는 배열 내에 어떤 값이 있는지 기억하고 있지 않는다.
그러므로, 컴퓨터가 특정 값을 갖는 배열의 인덱스를 찾기 위해서는 해당하는 값을 갖는 배열 요소를 찾을 때 까지 모든 배열요소를 하나하나 확인해 봐야한다.

찾고자 하는 배열 요소가 마지막 인덱스에 있다면 연산에 사용된 단계수 = N 이 되므로
배열 검색 연산에 사용된 단계수 = N 이다.

### 2-3. 삽입
삽입은 배열의 특정 요소에 새로운 값을 삽입하는것을 말한다.
배열의 마지막 위치에 새로운 값을 삽입한다면 그냥 값을 넣는 단계만 거치면 되기 때문에 연산에 사용된 단계수 = 1이 되겠지만
만약에 배열 가운데에 새로운 값을 삽입해야한다면, 삽입해야하는 위치로부터 마지막 인덱스까지의 모든 배열 요소를 한칸씩 기존메모리 +1 로 옮겨줘야 한다.

만약, 첫번째 인덱스에 새로운 값을 삽입한다면 모든 배열 요소를 기존 메모리 + 1 위치로 옮겨야 하기 때문에 
삽입하는 단계(1) + 모든 배열 요소를 +1 메모리 위치로 옮기는 단계(N) 해서
연산에 사용된 단계수 = N + 1이 된다.

### 2-4. 삭제
삭제는 배열의 특정 요소의 값을 삭제하는것을 말한다.
컴퓨터의 배열 할당 특징 1과 3에 따라 읽기처럼 삭제하고자 하는 메모리에 바로 접근하여 데이터를 삭제하는 단계 1이면 충분하다.

그러나, 삭제한 이후 배열 한 가운데에 비어있는 메모리 영역을 만드는것은 비효율적이므로 비어있는 메모리 영역으로부터 + 위치에 있는 모든 배열 요소들을 기존 메모리 위치 - 1 위치로 옮겨줘야 한다.

만약 마지막 요소의 배열 요소를 삭제했다면, 삭제하는 단계(1)이면 충분하지만,
첫번째 요소의 배열 요소를 삭제했다면, 삭제하는 단계(1) + 나머지 요소들을 기존 메모리 위치에서 - 1 위치로 옮기는 작업(N - 1) 작업이 필요하게 된다.
그러므로, (N - 1) + 1 = N 의 연산에 사용된 단계수를 갖는다.


## 3. 집합
집합에도 여러 종류가 있지만 기본적으로 사용되는 배열 기반 집합에 대해서 설명하면 배열처럼 모든 데이터를 첫번째 메모리로부터 순서대로 나열하는 자료구조이다. 

배열과 차이점이 있다면 집합은 중복을 허용하지 않는 자료구조인것이다.

배열 기반이기 때문에 읽기, 검색, 삭제는 배열과 같은 연산에 사용된 단계수를 갖지만
중복을 허용하지 않는다는 특징 때문에 삽입 연산에서 집합 자료구조는 배열보다 더 큰 연산에 사용된 단계수를 갖는다.

집합은 삽입하기 전 삽입하려는 데이터가 이미 존재하는지 검색해야 한다.
그러므로, 검색에 필요한 시간복잡도(N + 1)에 삽입에 필요한 시간복잡도(N)이 더해져 2N + 1의 연산에 사용된 단계수를 갖는다.

삽입 연산에서 집합이 배열보다 느리다고 해서 삽입 연산을 배제할 필요는 없다.
중복을 허용하지 않아야 하는 요구사항의 코드를 구현해야 할 때에는 집합 자료구조를 적극 활용해야 한다.

자료구조의 선택은 요구사항과 가치판단에 의해서 결정되면 된다.